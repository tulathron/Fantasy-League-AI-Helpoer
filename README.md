# Fantasy League AI Helper

This project provides an enhanced fantasy football lineup advisor that pulls data from Sleeper, ESPN, FantasyPros, and OpenWeatherMap and combines it with OpenAI analysis. The advisor now factors in:

- Upcoming opponent strength and matchup context from Sleeper and ESPN.
- Weather forecasts for each game, including precipitation and wind risk, via OpenWeatherMap.
- Player availability trends, including recent returns from injured reserve (IR) and limited practices.
- Recent player performance and snap share history from ESPN.
- FantasyPros weekly and rest-of-season projections (API key support included).
- A structured OpenAI prompt that prioritizes workload, weather, opponent, and injury context.

## Setup

1. **Install dependencies**
   ```bash
   pip install -e .
   ```

2. **Create a credential file**
   Copy the example file and fill in your real keys (do **not** commit this file):
   ```bash
   cp credentials.example.json credentials.json
   ```

   Required fields:
   - `openai_api_key`
   - `openweather_api_key`

   Optional, but recommended:
   - `fantasypros_api_key`
   - `espn_s2` and `swid` cookies (for private ESPN data access)

3. **Run the advisor**
   ```bash
   python main.py <sleeper_league_id> <week_number>
   ```

   Additional options:
   - `--credentials PATH` – use an alternate credential file path.
   - `--roster-id N` – evaluate a specific Sleeper roster ID; defaults to the first roster found.

The script prints a detailed recommendation generated by OpenAI that incorporates weather, opponent matchup, recent performance, and injury considerations for each player on the roster.

## Notes

- API requests are executed asynchronously for improved efficiency.
- FantasyPros API requests include support for the official API key header.
- Weather lookups automatically match the closest forecast time to the scheduled kickoff.
- Credentials are never stored in the repository. Ensure that `credentials.json` remains in your local `.gitignore`.
# Fantasy-League-AI-Helper
